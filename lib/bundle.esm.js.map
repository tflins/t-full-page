{"version":3,"file":"bundle.esm.js","sources":["../src/utils/index.ts","../src/instance/index.ts","../src/index.ts"],"sourcesContent":["export const $ = (selector: string, scope = document): HTMLElement => scope.querySelector(selector)\n\nexport const $$ = (selector: string, scope = document): NodeListOf<Element> => scope.querySelectorAll(selector)\n\n// 获取滚轮方向\nexport const getWheelDelta = (event: WheelEvent): number => event.deltaY\n\n// 节流函数\nexport const throttle = (fn: Function, content: Object, delay: number = 1000): Function => {\n  let wait: boolean = false\n  return function (...args) {\n    if (!wait) {\n      fn.apply(content, args)\n      wait = true\n      setTimeout((): void => {\n        wait = false\n      }, delay);\n    }\n  }\n}\n\n","import { $, $$, getWheelDelta, throttle } from '../utils'\n\nexport default class TFullPage {\n\n  // 滚动容器\n  $container: HTMLElement\n  // 视口高度\n  viewHeight: number\n  // 当前定位高度\n  curPosition: number\n\n  constructor() {\n    this.$container = $('.t-full-page')\n    this.viewHeight = document.documentElement.clientHeight\n    this.curPosition = 0\n    this.init()\n  }\n\n  // 初始化\n  init(): void {\n    this.$container.style.height = `${this.viewHeight}px`\n    this.bindEvt()\n  }\n\n  // 绑定事件\n  bindEvt(): void {\n    const handleWheel: any = throttle(this.scrollMouse, this, 1000)\n    document.addEventListener('wheel', handleWheel)\n  }\n\n  // 向下翻页\n  down(): void {\n    console.log('向下滚动')\n    this.curPosition += this.viewHeight\n    this.turnPage(this.curPosition)\n  }\n\n  // 向上翻页\n  up(): void {\n    console.log('向上滚动')\n    this.curPosition -= this.viewHeight\n    this.turnPage(this.curPosition)\n  }\n\n  // 翻页\n  turnPage(height: number): void {\n    this.$container.style.top = `${height}px`\n  }\n\n  // 鼠标滚动时\n  scrollMouse(event: WheelEvent): void {\n    const delta: number = getWheelDelta(event)\n    if (delta > 0) this.up()\n    else this.down()\n  }\n}\n","import TFullPage from './instance'\nimport './style/base.scss'\n\nconst tFullPage = new TFullPage()\n"],"names":[],"mappings":";;AAAO,IAAM,CAAC,GAAG,UAAC,QAAgB,EAAE,KAAgB;IAAhB,sBAAA,EAAA,gBAAgB;IAAkB,OAAA,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC;AAA7B,CAA6B,CAAA;AAInG;AACO,IAAM,aAAa,GAAG,UAAC,KAAiB,IAAa,OAAA,KAAK,CAAC,MAAM,GAAA,CAAA;AAExE;AACO,IAAM,QAAQ,GAAG,UAAC,EAAY,EAAE,OAAe,EAAE,KAAoB;IAApB,sBAAA,EAAA,YAAoB;IAC1E,IAAI,IAAI,GAAY,KAAK,CAAA;IACzB,OAAO;QAAU,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,yBAAO;;QACtB,IAAI,CAAC,IAAI,EAAE;YACT,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;YACvB,IAAI,GAAG,IAAI,CAAA;YACX,UAAU,CAAC;gBACT,IAAI,GAAG,KAAK,CAAA;aACb,EAAE,KAAK,CAAC,CAAC;SACX;KACF,CAAA;AACH,CAAC;;ACjBD;IASE;QACE,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,cAAc,CAAC,CAAA;QACnC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAA;QACvD,IAAI,CAAC,WAAW,GAAG,CAAC,CAAA;QACpB,IAAI,CAAC,IAAI,EAAE,CAAA;KACZ;;IAGD,wBAAI,GAAJ;QACE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAM,IAAI,CAAC,UAAU,OAAI,CAAA;QACrD,IAAI,CAAC,OAAO,EAAE,CAAA;KACf;;IAGD,2BAAO,GAAP;QACE,IAAM,WAAW,GAAQ,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;QAC/D,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAA;KAChD;;IAGD,wBAAI,GAAJ;QACE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;QACnB,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAA;QACnC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;KAChC;;IAGD,sBAAE,GAAF;QACE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;QACnB,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAA;QACnC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;KAChC;;IAGD,4BAAQ,GAAR,UAAS,MAAc;QACrB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,GAAM,MAAM,OAAI,CAAA;KAC1C;;IAGD,+BAAW,GAAX,UAAY,KAAiB;QAC3B,IAAM,KAAK,GAAW,aAAa,CAAC,KAAK,CAAC,CAAA;QAC1C,IAAI,KAAK,GAAG,CAAC;YAAE,IAAI,CAAC,EAAE,EAAE,CAAA;;YACnB,IAAI,CAAC,IAAI,EAAE,CAAA;KACjB;IACH,gBAAC;AAAD,CAAC;;ACpDD,IAAM,SAAS,GAAG,IAAI,SAAS,EAAE"}